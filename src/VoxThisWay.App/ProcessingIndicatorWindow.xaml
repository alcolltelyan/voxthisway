<Window x:Class="VoxThisWay.App.ProcessingIndicatorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        ShowActivated="False"
        Width="40"
        Height="40"
        ResizeMode="NoResize">
    <Grid x:Name="Root" IsHitTestVisible="False">
        <Grid x:Name="ListeningVisual" Visibility="Visible">
            <Ellipse Width="16" Height="16" Fill="#80FF4081">
                <Ellipse.RenderTransform>
                    <ScaleTransform x:Name="PulseTransform" ScaleX="1" ScaleY="1" CenterX="8" CenterY="8" />
                </Ellipse.RenderTransform>
            </Ellipse>
            <Grid.Triggers>
                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                    <BeginStoryboard>
                        <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                            <DoubleAnimation Storyboard.TargetName="PulseTransform"
                                             Storyboard.TargetProperty="ScaleX"
                                             From="1" To="1.4" Duration="0:0:0.4" />
                            <DoubleAnimation Storyboard.TargetName="PulseTransform"
                                             Storyboard.TargetProperty="ScaleY"
                                             From="1" To="1.4" Duration="0:0:0.4" />
                            <DoubleAnimation Storyboard.TargetName="ListeningVisual"
                                             Storyboard.TargetProperty="Opacity"
                                             From="1" To="0.6" Duration="0:0:0.4" />
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Grid.Triggers>
        </Grid>

        <Grid x:Name="ProcessingVisual" Visibility="Collapsed">
            <Ellipse Width="18" Height="18" Stroke="#B3FF4081" StrokeThickness="3" StrokeDashArray="1 3" StrokeStartLineCap="Round" StrokeEndLineCap="Round">
                <Ellipse.RenderTransform>
                    <RotateTransform x:Name="SpinTransform" Angle="0" CenterX="9" CenterY="9" />
                </Ellipse.RenderTransform>
            </Ellipse>
            <Grid.Triggers>
                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                    <BeginStoryboard>
                        <Storyboard RepeatBehavior="Forever">
                            <DoubleAnimation Storyboard.TargetName="SpinTransform"
                                             Storyboard.TargetProperty="Angle"
                                             From="0" To="360" Duration="0:0:0.8" />
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Grid.Triggers>
        </Grid>

        <Grid x:Name="SuccessVisual" Visibility="Collapsed">
            <Viewbox Width="18" Height="18">
                <Path Stroke="#FF22C55E" StrokeThickness="3" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"
                      Data="M2,9 L7,14 L16,4" />
            </Viewbox>
        </Grid>
    </Grid>
</Window>
